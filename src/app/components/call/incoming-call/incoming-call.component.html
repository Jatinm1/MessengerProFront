<!-- src/app/components/call/incoming-call/incoming-call.component.html -->

<div class="incoming-call-overlay">
  <div class="incoming-call-container">
    <!-- Animated background rings -->
    <div class="pulse-ring"></div>
    <div class="pulse-ring pulse-ring-delay-1"></div>
    <div class="pulse-ring pulse-ring-delay-2"></div>

    <!-- Caller info -->
    <div class="caller-info">
      <div class="caller-avatar">
        <img
          *ngIf="callOffer.from.photoUrl"
          [src]="callOffer.from.photoUrl"
          alt="avatar"
        />
        <span *ngIf="!callOffer.from.photoUrl">
          {{ getInitials(callOffer.from.displayName) }}
        </span>
      </div>

      <h2 class="caller-name">{{ callOffer.from.displayName }}</h2>
      <p class="call-type">
        <span class="call-icon">{{ getCallTypeIcon() }}</span>
        Incoming {{ getCallTypeText() }}...
      </p>
    </div>

    <!-- Action buttons -->
    <div class="call-actions">
      <button class="call-btn decline-btn" (click)="onReject()">
        <svg
          width="28"
          height="28"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.81V8.688z"
          />
          <path
            d="M12.75 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062a1.125 1.125 0 01-1.683-.977V8.688z"
          />
        </svg>
        <span>Decline</span>
      </button>

      <button
        class="call-btn accept-btn"
        [disabled]="isAccepting"
        (click)="onAccept()"
      >
        <svg
          width="28"
          height="28"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <path
            d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"
          />
        </svg>
        <span>Accept</span>
      </button>
    </div>
  </div>
</div>
