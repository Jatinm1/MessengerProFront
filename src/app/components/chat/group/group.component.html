<!-- src/app/components/chat/group/group.component.html - Updated -->

<div class="chat-header" *ngIf="selectedContact">
  <div class="header-left">
    <div class="chat-avatar">
      <img *ngIf="getGroupPhotoUrl()" [src]="getGroupPhotoUrl()" alt="avatar" class="avatar-img">
      <span *ngIf="!getGroupPhotoUrl()">{{ selectedContact.displayName.charAt(0).toUpperCase() }}</span>
      <span class="online-dot" *ngIf="!selectedContact.isGroup && selectedContact.isOnline"></span>
    </div>

    <div class="header-info">
      <div class="header-title">
        <span class="group-icon" *ngIf="selectedContact.isGroup">üë•</span>
        {{ selectedContact.displayName }}
      </div>

      <div class="header-status">
        {{ getContactStatusText(selectedContact) }}
      </div>
    </div>
  </div>

  <div class="header-actions">
    <!-- Call buttons - Only show for direct chats (not groups) -->
    <button *ngIf="!selectedContact.isGroup"
            class="call-btn audio-call"
            (click)="onAudioCallClick()"
            title="Audio Call">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/>
      </svg>
    </button>

    <button *ngIf="!selectedContact.isGroup"
            class="call-btn video-call"
            (click)="onVideoCallClick()"
            title="Video Call">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"/>
      </svg>
    </button>

    <!-- Group info button -->
    <button *ngIf="selectedContact.isGroup"
            class="group-info-btn"
            (click)="openGroupDetails.emit()">
      ‚ÑπÔ∏è Info
    </button>
  </div>
</div>

<div class="chat-header" *ngIf="!selectedContact">
  Select a contact to start chatting
</div>
